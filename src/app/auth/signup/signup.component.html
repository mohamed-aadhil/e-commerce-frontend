<div *ngIf="isModal" class="modal-overlay">
  <div class="modal-blur"></div>
  <div class="modal-content signup-modal-content">
    <button class="modal-close" (click)="onClose()">&times;</button>
    <h2 class="text-2xl font-bold mb-6 text-center">Sign Up</h2>
    <form (ngSubmit)="onSubmit()" *ngIf="!loading" #signupForm="ngForm" autocomplete="off">
      <div class="mb-4">
        <label class="block mb-1 font-medium">Name</label>
        <input type="text" [(ngModel)]="name" name="name" required (blur)="nameTouched = true" class="w-full border rounded px-3 py-2" [ngClass]="{'border-red-500': nameTouched && !name}" />
        <div *ngIf="nameTouched && !name" class="text-red-600 text-xs mt-1">Name is required.</div>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-medium">Email</label>
        <input type="email" [(ngModel)]="email" name="email" required (blur)="emailTouched = true" class="w-full border rounded px-3 py-2" [ngClass]="{'border-red-500': emailTouched && (!validateEmail(email) || !email)}" />
        <div *ngIf="emailTouched && !email" class="text-red-600 text-xs mt-1">Email is required.</div>
        <div *ngIf="emailTouched && email && !validateEmail(email)" class="text-red-600 text-xs mt-1">Please enter a valid email address.</div>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-medium">Password</label>
        <input type="password" [(ngModel)]="password" name="password" required (blur)="passwordTouched = true" class="w-full border rounded px-3 py-2" [ngClass]="{'border-red-500': passwordTouched && (password.length < 6)}" />
        <div *ngIf="passwordTouched && !password" class="text-red-600 text-xs mt-1">Password is required.</div>
        <div *ngIf="passwordTouched && password.length > 0 && password.length < 6" class="text-red-600 text-xs mt-1">Password must be at least 6 characters.</div>
      </div>
      <div *ngIf="error" class="text-red-600 mb-2">{{ error }}</div>
      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition" [disabled]="!name || !email || !validateEmail(email) || !password || password.length < 6">Sign Up</button>
    </form>
    <div *ngIf="loading" class="text-center py-4 text-blue-600">Signing up...</div>
    <div class="text-center mt-4 text-sm">
      Already have an account?
      <a href="#" (click)="onSwitchToLogin(); $event.preventDefault();" class="text-blue-600 hover:underline">Sign in</a>
    </div>
  </div>
</div>
<div *ngIf="!isModal">
  <div class="max-w-md mx-auto mt-16 p-8 bg-white rounded shadow">
    <h2 class="text-2xl font-bold mb-6 text-center">Sign Up</h2>
    <form (ngSubmit)="onSubmit()" *ngIf="!loading">
      <div class="mb-4">
        <label class="block mb-1 font-medium">Name</label>
        <input type="text" [(ngModel)]="name" name="name" required (blur)="nameTouched = true" class="w-full border rounded px-3 py-2" />
        <div *ngIf="nameTouched && !name" class="text-red-600 text-xs mt-1">Name is required.</div>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-medium">Email</label>
        <input type="email" [(ngModel)]="email" name="email" required (blur)="emailTouched = true" class="w-full border rounded px-3 py-2" />
        <div *ngIf="emailTouched && !validateEmail(email) && email" class="text-red-600 text-xs mt-1">Please enter a valid email address.</div>
      </div>
      <div class="mb-4">
        <label class="block mb-1 font-medium">Password</label>
        <input type="password" [(ngModel)]="password" name="password" required (blur)="passwordTouched = true" class="w-full border rounded px-3 py-2" />
        <div *ngIf="passwordTouched && password.length > 0 && password.length < 6" class="text-red-600 text-xs mt-1">Password must be at least 6 characters.</div>
      </div>
      <div *ngIf="error" class="text-red-600 mb-2">{{ error }}</div>
      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition">Sign Up</button>
    </form>
    <div *ngIf="loading" class="text-center py-4 text-blue-600">Signing up...</div>
    <div class="text-center mt-4 text-sm">
      Already have an account?
      <a href="#" (click)="onSwitchToLogin(); $event.preventDefault();" class="text-blue-600 hover:underline">Sign in</a>
    </div>
  </div>
</div> 