<div class="flex flex-col h-full bg-gray-50 overflow-x-hidden">
  <!-- Status Bar -->
  <div class="bg-white border-b border-gray-200 px-4 py-2 flex items-center justify-between sticky top-0 z-10">
    <div class="flex items-center space-x-2">
      <span class="w-2 h-2 rounded-full" [ngClass]="isConnected ? 'bg-green-500' : 'bg-red-500'"></span>
      <span class="text-sm text-gray-600">
        {{ isConnected ? 'Connected to real-time updates' : 'Disconnected' }}
      </span>
    </div>
    <div class="text-xs text-gray-500">
      Last updated: {{ lastUpdated | date:'short' }}
    </div>
    <button mat-icon-button (click)="refreshData()" [disabled]="isRefreshing" matTooltip="Refresh data">
      <mat-icon class="!w-5 !h-5">{{ isRefreshing ? 'autorenew' : 'refresh' }}</mat-icon>
    </button>
  </div>

  <!-- Charts Grid -->
  <div class="flex-1 grid grid-cols-1 lg:grid-cols-2 gap-4 px-2 py-4 sm:p-4 overflow-auto">
    <!-- Genre Distribution -->
    <mat-card class="flex flex-col h-full">
      <mat-card-header class="px-4 py-2 border-b border-gray-100">
        <mat-card-title class="text-sm font-medium flex items-center">
          <mat-icon class="text-indigo-600 mr-1" style="font-size: 18px">pie_chart</mat-icon>
          Genre Distribution
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="flex-1 p-2">
        <div class="w-full h-full min-h-[300px]">
          <app-genre-distribution-chart></app-genre-distribution-chart>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Price Analysis -->
    <mat-card class="flex flex-col h-full">
      <mat-card-header class="px-4 py-2 border-b border-gray-100">
        <mat-card-title class="text-sm font-medium flex items-center">
          <mat-icon class="text-teal-600 mr-1" style="font-size: 18px">show_chart</mat-icon>
          Price Analysis
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="flex-1 p-2">
        <div class="w-full h-full min-h-[300px]">
          <app-price-analysis-chart></app-price-analysis-chart>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
