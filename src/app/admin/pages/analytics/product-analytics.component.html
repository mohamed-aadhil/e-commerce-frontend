<div class="min-h-screen bg-gray-50 p-4 md:p-6">
  <div class="max-w-7xl mx-auto flex flex-col gap-6">
    <!-- Header Section -->
    <header class="bg-white rounded-xl shadow-sm p-4 md:p-6">
      <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-2">
        <div>
          <h1 class="text-2xl md:text-3xl font-bold text-gray-800">Product Analytics Dashboard</h1>
          <div class="flex items-center mt-1 text-sm">
            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium shadow-sm" 
                  [ngClass]="{
                    'bg-green-100 text-green-800 border border-green-200': isConnected,
                    'bg-red-100 text-red-800 border border-red-200': !isConnected
                  }">
              <span class="flex-shrink-0 h-2 w-2 rounded-full mr-2" 
                    [ngClass]="{
                      'bg-green-500': isConnected,
                      'bg-red-500': !isConnected
                    }"></span>
              {{ isConnected ? 'Connected to real-time updates' : 'Disconnected - updates paused' }}
            </span>
          </div>
        </div>
        <div class="flex flex-wrap gap-2">
          <button mat-raised-button color="primary" class="flex items-center gap-1.5 shadow-md" (click)="refreshData()" [disabled]="isRefreshing">
            <mat-icon class="!w-5 !h-5 !text-base" [class.animate-spin]="isRefreshing">{{ isRefreshing ? 'autorenew' : 'refresh' }}</mat-icon>
            <span class="hidden sm:inline">Refresh All</span>
          </button>
        </div>
      </div>
      <p class="text-gray-600 text-sm md:text-base mt-2">Real-time analytics and insights about your product catalog performance and metrics</p>
    </header>

    <!-- Main Grid Layout -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Genre Distribution Card -->
      <mat-card class="w-full h-full flex flex-col shadow-sm hover:shadow-md transition-shadow duration-200">
        <mat-card-header class="border-b border-gray-100 bg-gray-50/50 rounded-t-lg p-4">
          <mat-card-title class="flex items-center gap-2 text-lg font-semibold text-gray-800">
            <mat-icon class="!w-6 !h-6 text-indigo-600">pie_chart</mat-icon>
            Genre Distribution
          </mat-card-title>
          <mat-card-subtitle class="!mt-1 !text-gray-500">Visual breakdown of books by genre</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content class="flex-1 p-4 md:p-6">
          <div class="w-full h-full min-h-[400px]">
            <app-genre-distribution-chart></app-genre-distribution-chart>
          </div>
        </mat-card-content>
      </mat-card>
      
      <!-- Price Analysis Card -->
      <mat-card class="w-full h-full flex flex-col shadow-sm hover:shadow-md transition-shadow duration-200">
        <mat-card-header class="border-b border-gray-100 bg-gray-50/50 rounded-t-lg p-4">
          <mat-card-title class="flex items-center gap-2 text-lg font-semibold text-gray-800">
            <mat-icon class="!w-6 !h-6 text-teal-600">show_chart</mat-icon>
            Price Analysis
          </mat-card-title>
          <mat-card-subtitle class="!mt-1 !text-gray-500">Price distribution and trends analysis</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content class="flex-1 p-4 md:p-6">
          <div class="w-full h-full min-h-[400px]">
            <app-price-analysis-chart></app-price-analysis-chart>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Last Updated Status -->
    <div class="mt-2 text-right">
      <p class="text-xs text-gray-500">
        Last updated: {{ lastUpdated | date:'medium' }}
      </p>
    </div>
  </div>
</div>
